ВИРТУАЛЬНОЕ ОКРУЖЕНИЕ

Виртуальные окружения - Это изолированные окружения среды (в нашем случае это окружение Python), которое позволяет нам использовать определенные версии приложений.


VIRTUALENV

Cтандартный пакет для работы с виртуальным окружением. 
Зачастую используется вместе с virtualenvwrapper для более удобной работы.

Самые полезные функции virtualenvwrapper:

•	Организация каждой виртуальной среды в одном расположении;
•	Предоставляются методы, которые помогут вам легко создавать, удалять и копировать виртуальную среду, а также,
•	Предоставляет одну команду для переключения между средами


1. установка: pip install virtualenv
2. создание изолированной области: virtualenv название_папки
3. активация изолированной области:  
   название_папки\Scripts\activate
4. деактивация изолированной области: deactivate
5. различные надстройки: -p PYTHON_EXE, --python=PYTHON_EXE
   --prompt="подсказка"  (Выводимое имя)

Venv - аналог virtualenv встроенный в python начиная с 3.3

где venv - это название папки, в которую будет скопирован интерпретатор Python, и туда же будут записываться необходимые зависимости.



PIPENV

Pipenv – это пакет управления виртуальным окружением для Python, который решает некоторые распространенные проблемы, связанные с типичным рабочим процессом, в которой используется pip, virtualenv и старый добры файл requirements.txt

В названии проекта кроются два основных его назначения:
•	pip — установка и управления зависимостями проекта;
•	env — создание и управление виртуальным окружением для проекта.


Обертка над pip virtualenv и Pipfile.

Pipenv можно рассматривать как симбиоз утилит pip и venv (или virtualenv), которые работают вместе, пряча многие неудобные детали от конечного пользователя.


1. установка: pip install pipenv

После того, как вы это сделали, вы можете фактически забыть о pip, поскольку Pipenv по сути выступает в качестве его замены. В нем также представлены два новых файла: Pipfile (который предназначен для замены requirements.txt) и Pipfile.lock (который отвечает за детерминированность сборки).
Pipenv использует pip и virtualenv под капотом, что упрощает их использование с помощью одного интерфейса командной строки.

2. создание: pipenv --three (или --two) 
Можно принудительно создать среду Python 2 или 3 с аргументами –two и –three соответственно. В противном случае, Pipenv будет использовать то, что найдет по умолчанию virtualenv.
3. активация: pipenv shell
Эта команда создаст виртуальную среду. 
Pipenv для создания виртуальных сред использует путь по умолчанию. Если вы хотите изменить это поведение в Pipenv, для настройки есть переменные среды.
4. использование: pipenv install 

Инициализация проекта

Давайте создадим простой проект под управлением pipenv.
Подготовка:

$ mkdir pipenv_demo
$ cd pipenv_demo

Создать новый проект, использующий конкретную версию Python можно вот такой командой:
$ pipenv --python 3.8

Если же вам не нужно указывать версию так конкретно, то есть шорткаты:
# Создает проект с Python 3, версию выберет автоматически.
$ pipenv --three

# Аналогично с Python 2.
# В 2020 году эта опция противопоказана.
$ pipenv --two
После выполнения одной из этих команд, pipenv создал файл Pipfile и виртуальное окружение где-то в заранее определенной директории (по умолчанию вне директории проекта).
$ cat Pipfile
[[source]]
name = "pypi"
url = "https://pypi.org/simple"
verify_ssl = true

[dev-packages]

[packages]

[requires]
python_version = "3.8"
Это минимальный образец Pipfile. 

В секции [[source]] перечисляются индексы пакетов — сейчас тут только PyPI, но может быть индекс пакетов. 

В секциях [packages] и [dev-packages] перечисляются зависимости приложения — те, которые нужны для непосредственной работы приложения (минимум), и те, которые нужны для разработки (запуск тестов, линтеры и прочее). 

В секции [requires] указана версия интерпретатора, на которой данное приложение может работать.
Очень полезно правильно разделять зависимости на "основные" и "разработческие". Это позволит уменьшить размер окружения при развёртывании на продакшн (например, размер Docker-образа). Кроме того, чем меньше в системе, работающей на продакшне, установлено пакетов, тем меньше потенциальных уязвимостей.
Если вам нужно узнать, где именно pipenv создал виртуальное окружение (например, для настройки IDE), то сделать это можно вот так:
$ pipenv --py
/Users/and-semakin/.local/share/virtualenvs/pipenv_demo-1dgGUSFy/bin/python



PYENV

Mенеджер версий python. Несмотря на схожесть в названиях (pyvenv и pyenv), pyenv отличается тем, что он направлен на то, чтобы помочь переключаться между версиями Python на как на системном уровне, так и на проектном. Другими словами, задача pyvenv разделять модули, задача pyenv – разделять версии Python.


1. установка: 
   curl L https://raw.githubusercontent.com/yyuu/pyenv-   
   installer/master/bin/pyenv-installer | bash
2. для установки определённого python:
   pyenv install 2.7.11
3. для проверки установленных python:
   pyenv versions
4. для переключения на python:
   pyenv local 2.7.11








